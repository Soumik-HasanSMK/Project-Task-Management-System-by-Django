{% extends 'base.html' %} {% block content %}
<h2>My Tasks</h2>
<a href="{% url 'task_create' %}" class="btn btn-primary mb-3">Add New Task</a>
<div class="search-container">
  <input
    type="text"
    id="task-search"
    placeholder="Search tasks..."
    onkeyup="filterTasks()"
    class="form-control"
  />
</div>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>#</th>
      <!-- Serial number column -->
      <th>Title</th>
      <th>Description</th>
      <th>Due Date</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks %}
    <tr class="{% if task.is_overdue %}table-danger{% endif %}">
      <td>{{ forloop.counter }}</td>
      <!-- Serial number -->
      <td>{{ task.title }}</td>
      <td>{{ task.description|default:"N/A" }}</td>
      <td>{{ task.due_date }}</td>
      <td>{% if task.completed %} Completed {% else %} Pending {% endif %}</td>
      <td>
        <a href="{% url 'task_update' task.pk %}" class="btn btn-warning btn-sm"
          >Edit</a
        >
        <a href="{% url 'task_delete' task.pk %}" class="btn btn-danger btn-sm"
          >Delete</a
        >
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="6" class="text-center">No tasks found!</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
